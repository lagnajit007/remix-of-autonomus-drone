/* FlytBase Emergency Command Center - HUD Design System V2 */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Co-Pilot Canvas Palette - Deep Strategic Tones */
    --background: 222 47% 4%;    /* #050B14 - Absolute Navy */
    --foreground: 0 0% 100%;

    /* Panel Colors */
    --sidebar: 222 47% 3%;
    --card: 222 47% 6%;
    --muted: 222 20% 12%;
    --muted-foreground: 222 10% 50%;
    
    /* Tactical Tones */
    --primary: 28 100% 55%;      /* #FF851B - Action Orange (Panic/Urgency) */
    --primary-foreground: 0 0% 100%;

    --accent: 187 100% 50%;      /* #00D9FF - Tactical Cyan (Logic/AI) */
    --accent-foreground: 222 47% 6%;

    /* Semantic Status */
    --status-normal: 145 100% 39%;      /* Green - Safe */
    --status-attention: 43 100% 50%;    /* Amber - Verification */
    --status-critical: 0 100% 62%;      /* Red - Fire/Veto */
    --status-ai: 187 100% 50%;          /* Cyan - Co-Pilot */
    
    --radius: 1.25rem;
  }

  body {
    @apply bg-background text-foreground antialiased font-sans overflow-hidden;
    font-size: 16px;
    letter-spacing: -0.01em;
    cursor: crosshair; /* Tactical feel */
  }

  /* Hudson Grid Layout (1920x1080) */
  .command-layout {
    display: grid;
    grid-template-columns: 280px 1fr 440px;
    grid-template-rows: 80px 1fr;
    height: 100vh;
    width: 100%;
    background: radial-gradient(circle at 50% 50%, rgba(0, 217, 255, 0.02) 0%, transparent 80%);
  }
}

@layer components {
  .hud-panel {
    @apply bg-card/60 backdrop-blur-3xl border border-white/[0.03] transition-all duration-500;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5), inset 0 1px 1px rgba(255, 255, 255, 0.05);
  }

  .panel-section {
    @apply p-5 rounded-[1.5rem] border border-white/[0.05] bg-white/[0.02] transition-all duration-300;
  }

  .hud-metric-card {
    @apply p-4 bg-black/40 border border-white/5 rounded-2xl hover:border-accent/30 transition-all;
  }

  .scanline {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
    background-size: 100% 4px;
    pointer-events: none;
    z-index: 9999;
    opacity: 0.15;
    animation: scanline_move 10s linear infinite;
  }
}

/* MICRO-INTERACTION ANIMATIONS */

@keyframes scanline_move {
  0% { background-position: 0 0; }
  100% { background-position: 0 100%; }
}

/* Haptic Shake (Veto/Error) */
@keyframes haptic-shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
  20%, 40%, 60%, 80% { transform: translateX(4px); }
}

/* Ripple (Approve/Select) */
@keyframes tactical-ripple {
  0% { box-shadow: 0 0 0 0 rgba(255, 133, 27, 0.6); }
  100% { box-shadow: 0 0 0 30px rgba(255, 133, 27, 0); }
}

/* Cyan Glow (AI Thought/Logic) */
@keyframes ai-glow {
  0% { filter: drop-shadow(0 0 2px rgba(0, 217, 255, 0.8)); }
  50% { filter: drop-shadow(0 0 15px rgba(0, 217, 255, 0.4)); }
  100% { filter: drop-shadow(0 0 2px rgba(0, 217, 255, 0.8)); }
}

/* Orange Wave (Escalation) */
@keyframes orange-wave {
  0% { transform: scale(0.8); opacity: 0.6; }
  100% { transform: scale(2.5); opacity: 0; }
}

.animate-haptic-shake { animation: haptic-shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
.animate-ripple { animation: tactical-ripple 1s cubic-bezier(0,0,0.2,1) infinite; }
.animate-ai-glow { animation: ai-glow 2s infinite ease-in-out; }
.animate-orange-wave { animation: orange-wave 1.5s ease-out infinite; }

/* HUD States */
.state-amber {
  border-color: var(--status-attention) !important;
  box-shadow: 0 0 30px rgba(255, 184, 0, 0.1);
}

.state-red {
  border-color: var(--status-critical) !important;
  box-shadow: 0 0 40px rgba(255, 59, 59, 0.15);
}

/* CSS Haptic Sim via Shake on specific classes */
.vui-active {
  @apply border-accent text-accent animate-ai-glow;
}

.panic-triggered {
  @apply animate-haptic-shake border-status-critical;
}

/* Map Customizations */
.leaflet-div-icon.hex-marker {
  background: transparent;
  border: none;
}

.hex-container {
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  filter: drop-shadow(0 0 8px rgba(0,0,0,0.8));
}

.hex-outer {
  width: 40px;
  height: 40px;
  background: rgba(255, 255, 255, 0.05);
  clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
  border: 1px solid rgba(255, 255, 255, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s;
}

.hex-inner {
  width: 28px;
  height: 28px;
  clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
}

.resident-dot {
  width: 12px;
  height: 12px;
  border: 2px solid #fff;
  border-radius: 50%;
  animation: wait-pulse 2s infinite;
}

@keyframes wait-pulse {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); }
  70% { transform: scale(1.1); box-shadow: 0 0 0 10px rgba(255, 255, 255, 0); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
}